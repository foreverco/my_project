<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    /* 1.数组的解构赋值 */
    let a = 1;
    let b = 2;
    let c = 3;
    //把这三个变量存入数组中
    /*  let arr = [];
     arr.push(a, b, c); */
    let [a1, b1, c1] = [1, 2, 3];
    console.log(a1, b1, c1);
    //解构要按照一定的顺序
    let [a2, [b2, c2], d2] = [1, [3], 4];
    console.log(a2, b2, c2, d2);
    /* 两边顺序不一致,导致解构不成功
    那么变量的值可能是undefined 或者 报错 */
    let [boo] = []; //boo = undefined
    //以下的会报错
    /* let [foo] = 1;
    let [foo] = false;
    let [foo] = null;
    let [foo] = NaN;
    let [foo] = undefined;
    let [foo] = {}; */

    //解构赋值可以设置默认值
    let [a3 = 'x'] = [];
    console.log(a3); //x
    let [a4 = true] = [false];
    console.log(a4); //false

    let [a5, b5 = '开发'] = ['前端', undefined];
    console.log(a5 + b5); //前端开发

    /* 对象解构 */
    // 1.对象的解构和数组有点不同,数组有索引下标有序的,对象是无序的,所以解构时,变量名要和属性名同名
    let {
      foo1,
      boo1
    } = {
      foo1: '我们大家',
      boo1: '哈哈'
    };
    console.log(foo1, boo1);

    //对象的嵌套解构
    let obj = {
      data1: [
        'hello',
        {
          yes: 'world'
        }
      ]
    };
    let {
      data1: [h, {
        yes: y
      }]
    } = obj;
    console.log(h, y);

    let obj2 = {
      data2: [{
        title: '1'
      }, {
        title: '2'
      }, {
        title: '3'
      }, ],
      map: 'source-map',
      code: 0
    };
    let {
      data2
    } = obj2;
    console.log(data2);

    //圆括号的使用
    //如果在解构之前就定义了该变量,这时候直接解构会报错,必须使用圆括号
    let temp; //定义了temp
    ({
      temp
    } = {
      temp: '小明'
    });
    console.log(temp);

    /* 字符串解构 */
    let [a6, b6, c6] = 'ES6';
    console.log(a6, b6, c6); //E S 6

    /* 函数参数的解构赋值 */
    //例子1
    let arr3 = ['hello','world'];
    function fun([a,b]){
      console.log(a+b);
    }
    fun(arr3);
    //例子2
    function fun1({a=0,b=0}){
      console.log(a+b);
    }
    fun1({a:3,b:5});//8
    fun1({a:10});//10
    fun1({});//0
    // fun1();//报错 没有参数 undefined

    /* 结构赋值的用途 */
    //1.交换变量
    let x1 = 10;
    let y1 = 20;
    [x1,y1] = [y1,x1];
    // x1 = x1-y1;y1 = x1+y1;x1 = 2*y1;
    console.log(x1,y1);

    //2.函数内部返回多个值
    function fun2(){
      return {
        x2:1,
        y2:2
      }
    }
    let {x2,y2} = fun2();
    console.log(x2,y2);
  </script>
</body>

</html>